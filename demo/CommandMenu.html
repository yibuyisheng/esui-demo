<!DOCTYPE html>
<html>
<head>
    <title>esui demo - CommandMenu</title>
    <link rel="stylesheet" href="../src/main.css"/>
    <script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-8-2/esl.js"></script>
    <script>
    require.config({
        'baseUrl': '../src',
        'paths': {},
        'packages': [
            {
                'name': 'eicons',
                'location': '../dep/eicons/1.0.0-beta.1/src',
                'main': 'main.less'
            },
            {
                'name': 'eoo',
                'location': '../dep/eoo/0.1.4/src',
                'main': 'main'
            },
            {
                'name': 'esf',
                'location': '../dep/esf/1.0.0-beta.1/src'
            },
            {
                'name': 'est',
                'location': '../dep/est/1.3.0/src'
            },
            {
                'name': 'esui',
                'location': '../dep/esui/3.2.0-beta.1/src',
                'main': 'main'
            },
            {
                'name': 'etpl',
                'location': '../dep/etpl/3.0.1/src',
                'main': 'main'
            },
            {
                'name': 'mini-event',
                'location': '../dep/mini-event/1.0.2/src',
                'main': 'main'
            },
            {
                'name': 'moment',
                'location': '../dep/moment/2.7.0/src',
                'main': 'moment'
            },
            {
                'name': 'underscore',
                'location': '../dep/underscore/1.8.5/src',
                'main': 'underscore'
            },
            {
                'name': 'bat-ria',
                'location': '../dep/bat-ria/0.2.5/src',
                'main': 'main'
            },
            {
                'name': 'ef',
                'location': '../dep/ef/3.1.0-beta.3/src',
                'main': 'main'
            },
            {
                'name': 'er',
                'location': '../dep/er/3.1.0-rc.2/src',
                'main': 'main'
            },
            {
                'name': 'er-track',
                'location': '../dep/er-track/0.9.1/src',
                'main': 'main'
            },
            {
                'name': 'urijs',
                'location': '../dep/urijs/1.12.0/src',
                'main': 'URI'
            },
            {
                'name': 'echarts',
                'location': '../dep/echarts/2.2.4/src',
                'main': 'echarts'
            },
            {
                'name': 'zrender',
                'location': '../dep/zrender/2.0.9/src',
                'main': 'zrender'
            }
        ]
    });
    </script>
</head>
<body>
<p><a href="../index.html">首页</a></p>
<hr />
<div data-ui-type="CommandMenu">item1</div>
<div data-ui-type="CommandMenu" data-ui-item-template="<i>${text}</i>">item1</div>
<script>
require(['esui', 'esui/CommandMenu'], function (ui) {
    var controls = ui.init();
    controls[0].set('datasource', [
        {
            text: 'item1',
            handler: function () {
                this.set('displayText', 'item1');
            }
        },
        {
            text: 'item2',
            disabled: true
        }
    ]);

    controls[1].set('datasource', [
        {
            text: 'item1'
        },
        {
            text: 'item2'
        }
    ]);
    controls[1].on('select', function (event) {
        this.set('displayText', event.item.text);
        alert('select');
    });
});
</script>
</body>
</html>
